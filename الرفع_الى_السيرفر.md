# ğŸš€ Ø§Ù„Ø±ÙØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±

## Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ±

| Ø§Ù„Ø¨ÙŠØ§Ù† | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|--------|--------|
| Ø§Ù„Ø¹Ù†ÙˆØ§Ù† | `13.37.138.216` |
| Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | `smStore` |
| ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± | `aDm1n4StoRuSr2` |
| Ø§Ù„Ù…Ø³Ø§Ø± | `/home/smStore/laravel_ecommerce_starte` |
| Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ | https://store.update-aden.com |
| PHP | 8.2 |
| Nginx | 1.18.0 |
| Ø§Ù„Ø³ÙˆÙƒÙŠØª | `/run/php/smartPhp8.2-fpm.sock` |

---

## Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹ (Ø£Ù…Ø± ÙˆØ§Ø­Ø¯)

Ù…Ù† PowerShell ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:

```powershell
powershell -ExecutionPolicy Bypass -File .\deploy_manual.ps1
```

> âš ï¸ Ø³ÙŠØ·Ù„Ø¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ø¯Ø© Ù…Ø±Ø§ØªØŒ Ø£Ø¯Ø®Ù„: `aDm1n4StoRuSr2`

---

## Ø¨Ø¹Ø¯ Ø§Ù„Ø±ÙØ¹ Ù…Ø¨Ø§Ø´Ø±Ø©

### 1. Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!)

```bash
ssh smStore@13.37.138.216
```

Ø«Ù…:

```bash
chmod 755 /home/smStore && chmod -R 755 /home/smStore/laravel_ecommerce_starte && chmod -R 775 /home/smStore/laravel_ecommerce_starte/storage /home/smStore/laravel_ecommerce_starte/bootstrap/cache
```

### 2. Ø£Ùˆ Ø¨Ø£Ù…Ø± ÙˆØ§Ø­Ø¯ Ù…Ù† Windows:

```powershell
ssh smStore@13.37.138.216 "chmod 755 /home/smStore && chmod -R 755 /home/smStore/laravel_ecommerce_starte && chmod -R 775 /home/smStore/laravel_ecommerce_starte/storage /home/smStore/laravel_ecommerce_starte/bootstrap/cache"
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹:

```bash
curl -I https://store.update-aden.com
```

ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰: `HTTP/2 200` âœ…

---

## Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª

Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª ÙŠØ±ÙØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
- `app/` - Ø§Ù„ÙƒÙ†ØªØ±ÙˆÙ„Ø±Ø² ÙˆØ§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø²
- `config/` - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
- `database/` - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø³ÙŠØ¯Ø±Ø²
- `resources/` - Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ ÙˆØ§Ù„Ù€ Views
- `routes/` - Ø§Ù„Ø±Ø§ÙˆØªØ§Øª
- `public/` - Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© (CSS, JS, ØµÙˆØ±)

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø£ÙˆØ§Ù…Ø± Laravel Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±

```bash
cd ~/laravel_ecommerce_starte

# ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
php artisan migrate --force

# Ù…Ø³Ø­ Ø§Ù„ÙƒØ§Ø´
php artisan cache:clear
php artisan config:clear
php artisan view:clear
php artisan route:clear

# ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
php artisan optimize
```

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

```bash
chmod 755 /home/smStore
chmod -R 755 /home/smStore/laravel_ecommerce_starte
chmod -R 775 /home/smStore/laravel_ecommerce_starte/storage
chmod -R 775 /home/smStore/laravel_ecommerce_starte/bootstrap/cache
```

---

## Ø§Ù„Ø±ÙØ¹ Ø§Ù„ÙŠØ¯ÙˆÙŠ (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª)

### Ø±ÙØ¹ Ù…Ø¬Ù„Ø¯ Ù…Ø¹ÙŠÙ†:

```powershell
scp -r app smStore@13.37.138.216:~/laravel_ecommerce_starte/
scp -r config smStore@13.37.138.216:~/laravel_ecommerce_starte/
scp -r database smStore@13.37.138.216:~/laravel_ecommerce_starte/
scp -r resources smStore@13.37.138.216:~/laravel_ecommerce_starte/
scp -r routes smStore@13.37.138.216:~/laravel_ecommerce_starte/
scp -r public smStore@13.37.138.216:~/laravel_ecommerce_starte/
```

### Ø±ÙØ¹ Ù…Ù„Ù ÙˆØ§Ø­Ø¯:

```powershell
scp app/Http/Controllers/ProductController.php smStore@13.37.138.216:~/laravel_ecommerce_starte/app/Http/Controllers/
```

---

## Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### Ù…Ø´ÙƒÙ„Ø© 403 Forbidden

```bash
chmod 755 /home/smStore
chmod -R 755 /home/smStore/laravel_ecommerce_starte
chmod -R 775 /home/smStore/laravel_ecommerce_starte/storage
chmod -R 775 /home/smStore/laravel_ecommerce_starte/bootstrap/cache
```

### Ù…Ø´ÙƒÙ„Ø© 502 Bad Gateway

```bash
# ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³ÙˆÙƒÙŠØª
cat /etc/nginx/sites-available/store.update-aden.com.conf | grep fastcgi_pass

# ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†:
# fastcgi_pass unix:/run/php/smartPhp8.2-fpm.sock;

# Ø¥Ø°Ø§ ÙƒØ§Ù† Ø®Ø·Ø£:
sudo sed -i 's|unix:/run/php/php8.2-fpm.sock|unix:/run/php/smartPhp8.2-fpm.sock|g' /etc/nginx/sites-available/store.update-aden.com.conf
sudo systemctl restart nginx
```

### Ù…Ø´ÙƒÙ„Ø© 500 Internal Server Error

```bash
# ÙØ­Øµ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
tail -30 ~/laravel_ecommerce_starte/storage/logs/laravel.log

# Ù…Ø³Ø­ Ø§Ù„ÙƒØ§Ø´
cd ~/laravel_ecommerce_starte
php artisan cache:clear
php artisan config:clear
php artisan optimize
```

### Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡

```bash
# ØªØ£ÙƒØ¯ Ù…Ù† .env
cat ~/laravel_ecommerce_starte/.env | grep APP_

# ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†:
# APP_ENV=production
# APP_DEBUG=false
# APP_URL=https://store.update-aden.com
```

---

## Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª

```bash
# Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ± (ÙŠØ­ØªØ§Ø¬ sudo)
sudo systemctl restart nginx
sudo systemctl restart php8.2-fpm
sudo systemctl restart mysql
```

---

## Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±

```powershell
ssh smStore@13.37.138.216
```

ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: `aDm1n4StoRuSr2`

---

## ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±

```bash
# Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
systemctl is-active nginx
systemctl is-active php8.2-fpm
systemctl is-active mysql

# Ø§Ù„Ø³ÙˆÙƒÙŠØªØ§Øª
ls -la /run/php/*.sock

# Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
free -h

# Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø±Øµ
df -h /home/smStore
```

---

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ø¨Ø¹Ø¯ ÙƒÙ„ Ø±ÙØ¹:** Ù†ÙØ° Ø£Ù…Ø± Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
2. **Ù„Ø§ ØªØ±ÙØ¹:** `vendor/` Ùˆ `node_modules/` Ùˆ `.git/`
3. **Ø§Ù„Ø³ÙˆÙƒÙŠØª Ø§Ù„ØµØ­ÙŠØ­:** `smartPhp8.2-fpm.sock`
4. **ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± sudo:** Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± SSH
